(()=>{"use strict";const a=()=>{let a=[],e=[];return{placeShip:e=>{let i=(a=>{let e=0,i=!1;return{length:a,hit:()=>++e,isSunk:()=>a==e?(i=!0,i):a!=e?i:void 0,showHit:()=>e}})(e.length);return i.location=JSON.stringify(e),a.push(i),i},receiveAttack:i=>{let t=a.filter((a=>a.location.includes(JSON.stringify(i))));return t.length>0?(t[0].hit(),t[0]):(e.push(i),i)},shipLists:a,missedShots:e,allShipsSunk:()=>a.every((a=>1==a.isSunk()))}};function e(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}let i={gameboard:a(),attack:(a,e)=>e.gameboard.receiveAttack(a)},t=(i.gameboard.placeShip([[2,4],[2,5]]),i.gameboard.placeShip([[3,4],[3,5],[3,6]]),i.gameboard.placeShip([[0,1],[0,2],[0,3]]),i.gameboard.placeShip([[7,5],[7,6],[7,7],[7,8]]),i.gameboard.placeShip([[5,1],[5,2],[5,3],[5,4],[5,5]]),(()=>{let i=a(),t=[],r=[];const o=(a=5,i=e())=>{let t=a-1,l=[];for(;r.includes(JSON.stringify(i))||i[0]+t>=9;)i=e();let c=i[0],n=i[1],h=i[0]+t;for(;c!=h;){if(c++,r.includes(JSON.stringify([c,n])))return l=[],o(a);l.push([c,n])}return l.splice(0,0,i),l.forEach((a=>{r.push(JSON.stringify(a))})),l};return{gameboard:i,aiAttackList:t,attack:(a,i=e())=>{for(;t.includes(JSON.stringify(i));)i=e();return t.push(JSON.stringify(i)),a.gameboard.receiveAttack(i)},createValidShipLocation:o,allAIShipLocations:r}})()),r=t.createValidShipLocation(5),o=t.createValidShipLocation(4),l=t.createValidShipLocation(3),c=t.createValidShipLocation(3),n=t.createValidShipLocation(2);for(t.gameboard.placeShip(r),t.gameboard.placeShip(o),t.gameboard.placeShip(l),t.gameboard.placeShip(c),t.gameboard.placeShip(n);!i.gameboard.allShipsSunk()&&!t.gameboard.allShipsSunk();)i.attack([3,6],t),t.attack(i);i.gameboard.allShipsSunk()&&console.log("Ai wins"),t.gameboard.allShipsSunk()&&console.log("Player wins")})();